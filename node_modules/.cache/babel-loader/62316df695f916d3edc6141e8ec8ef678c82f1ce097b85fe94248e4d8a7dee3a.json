{"ast":null,"code":"var _jsxFileName = \"/Users/nischalkotamraju/Desktop/rrisd-course-advisor/src/components/Build.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useMemo } from \"react\";\nimport PropTypes from 'prop-types';\nimport courseListData from \"../assets/data/course-list.json\";\nimport CourseDropdown from \"./CourseDropdown\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nCourseDropdown.propTypes = {\n  index: PropTypes.number.isRequired,\n  subject: PropTypes.string.isRequired,\n  courses: PropTypes.array.isRequired,\n  searchTerm: PropTypes.string.isRequired,\n  onSearchChange: PropTypes.func.isRequired,\n  onCourseSelect: PropTypes.func.isRequired,\n  selectedCourse: PropTypes.object,\n  isActive: PropTypes.bool.isRequired,\n  onToggle: PropTypes.func.isRequired\n};\nexport default function Build({\n  courses: initialCourses\n}) {\n  _s();\n  const [currentYear, setCurrentYear] = useState(1);\n  const [courses, setCourses] = useState(initialCourses);\n  const [allSelectedCourses, setAllSelectedCourses] = useState({\n    1: Array(8).fill(null),\n    2: Array(8).fill(null),\n    3: Array(8).fill(null),\n    4: Array(8).fill(null)\n  });\n  const [searchTerms, setSearchTerms] = useState(Array(8).fill(''));\n  const [activeDropdown, setActiveDropdown] = useState(null);\n  const [doubleBlockedCourses, setDoubleBlockedCourses] = useState({\n    1: 0,\n    2: 0,\n    3: 0,\n    4: 0\n  });\n  const [isReviewing, setIsReviewing] = useState(false);\n  const [summerCourses, setSummerCourses] = useState({\n    2: null,\n    3: null,\n    4: null\n  });\n  const [errors, setErrors] = useState({\n    1: [],\n    2: [],\n    3: [],\n    4: []\n  });\n  React.useEffect(() => {\n    setCourses(courseListData);\n  }, []);\n  const validateCourseSequence = (year, subject, course) => {\n    var _course$name$match, _previousCourse$name$;\n    if (year === 1) return true;\n    const previousYearCourses = allSelectedCourses[year - 1];\n    const previousCourse = previousYearCourses.find(c => c && c.subject === subject);\n    if (!previousCourse) return false;\n    const courseLevel = parseInt(((_course$name$match = course.name.match(/\\d+/)) === null || _course$name$match === void 0 ? void 0 : _course$name$match[0]) || '0');\n    const prevCourseLevel = parseInt(((_previousCourse$name$ = previousCourse.name.match(/\\d+/)) === null || _previousCourse$name$ === void 0 ? void 0 : _previousCourse$name$[0]) || '0');\n    return courseLevel > prevCourseLevel;\n  };\n  const validateYear = year => {\n    const yearCourses = allSelectedCourses[year];\n    const coreSubjects = ['Math', 'English', 'Social Studies', 'Science'];\n    const newErrors = [];\n\n    // Check if all core subjects are selected\n    coreSubjects.forEach((subject, index) => {\n      var _summerCourses$year;\n      if (!yearCourses[index] && !((_summerCourses$year = summerCourses[year]) !== null && _summerCourses$year !== void 0 && _summerCourses$year.includes(subject))) {\n        newErrors.push(`Missing ${subject} course`);\n      }\n    });\n\n    // Check if minimum number of courses is met\n    const filledCourses = yearCourses.filter(course => course !== null).length;\n    if (filledCourses < 6) {\n      newErrors.push('Minimum of 6 courses required');\n    }\n\n    // Check course sequence\n    yearCourses.forEach((course, index) => {\n      if (course && year > 1) {\n        if (!validateCourseSequence(year, course.subject, course)) {\n          newErrors.push(`Invalid sequence for ${course.name}`);\n        }\n      }\n    });\n    setErrors(prev => ({\n      ...prev,\n      [year]: newErrors\n    }));\n    return newErrors.length === 0;\n  };\n  const handleYearChange = direction => {\n    if (direction === 'next' && !validateYear(currentYear)) {\n      alert('Please fix the following errors before proceeding:\\n' + errors[currentYear].join('\\n'));\n      return;\n    }\n    if (direction === 'prev' && currentYear > 1) {\n      setCurrentYear(currentYear - 1);\n    } else if (direction === 'next' && currentYear < 4) {\n      if (currentYear + 1 >= 2 && !summerCourses[currentYear + 1]) {\n        const tookSummer = window.confirm(`Did you take any core classes over the summer before ${getYearName(currentYear + 1)} year?`);\n        if (tookSummer) {\n          const coreSubjects = ['Math', 'English', 'Social Studies', 'Science'];\n          const subject = window.prompt(`Which core subject did you take? (${coreSubjects.join(', ')})`);\n          if (subject && coreSubjects.map(s => s.toLowerCase()).includes(subject.toLowerCase())) {\n            setSummerCourses(prev => ({\n              ...prev,\n              [currentYear + 1]: subject\n            }));\n          }\n        }\n      }\n      setCurrentYear(currentYear + 1);\n    }\n    setSearchTerms(Array(8).fill(''));\n    setActiveDropdown(null);\n  };\n  const getYearName = year => [\"\", \"Freshman\", \"Sophomore\", \"Junior\", \"Senior\"][year];\n  const handleSearchChange = useCallback((index, value) => {\n    setSearchTerms(prev => {\n      const newTerms = [...prev];\n      newTerms[index] = value;\n      return newTerms;\n    });\n  }, []);\n  const handleCourseSelect = (index, course) => {\n    if (course && currentYear > 1 && !validateCourseSequence(currentYear, course.subject, course)) {\n      alert('This course selection violates the course sequence requirements.');\n      return;\n    }\n    setAllSelectedCourses(prev => {\n      const newCourses = [...prev[currentYear]];\n      const previousCourse = newCourses[index];\n      newCourses[index] = course;\n      const isDoubleBlocked = course === null || course === void 0 ? void 0 : course.name.includes(\"DB\");\n      const wasDoubleBlocked = previousCourse === null || previousCourse === void 0 ? void 0 : previousCourse.name.includes(\"DB\");\n      if (isDoubleBlocked && !wasDoubleBlocked) {\n        if (doubleBlockedCourses[currentYear] >= 2) {\n          alert('Maximum of 2 double-blocked courses allowed per year');\n          return prev;\n        }\n        setDoubleBlockedCourses(prev => ({\n          ...prev,\n          [currentYear]: prev[currentYear] + 1\n        }));\n      } else if (!isDoubleBlocked && wasDoubleBlocked) {\n        setDoubleBlockedCourses(prev => ({\n          ...prev,\n          [currentYear]: prev[currentYear] - 1\n        }));\n      }\n      return {\n        ...prev,\n        [currentYear]: newCourses\n      };\n    });\n    setSearchTerms(prev => {\n      const newTerms = [...prev];\n      newTerms[index] = '';\n      return newTerms;\n    });\n    setActiveDropdown(null);\n\n    // Validate after course selection\n    setTimeout(() => validateYear(currentYear), 0);\n  };\n  const getAllCourses = useMemo(() => {\n    if (!courses) return [];\n    return Object.values(courses).flat().filter(course => !course.key || course.key.includes(currentYear.toString()));\n  }, [courses, currentYear]);\n  const filteredCourses = useMemo(() => (index, subject) => {\n    if (!courses || !courses[subject.toLowerCase()]) return [];\n    return courses[subject.toLowerCase()].filter(course => {\n      const isValidForYear = !course.key || course.key.includes(currentYear.toString());\n      if (currentYear === 1) return isValidForYear;\n\n      // For years 2-4, check prerequisites\n      return isValidForYear && validateCourseSequence(currentYear, subject, course);\n    });\n  }, [courses, currentYear, allSelectedCourses]);\n  const toggleDropdown = index => {\n    setActiveDropdown(activeDropdown === index ? null : index);\n    if (activeDropdown !== index) {\n      setSearchTerms(prev => {\n        const newTerms = [...prev];\n        newTerms[index] = '';\n        return newTerms;\n      });\n    }\n  };\n  const renderDropdown = (index, subject) => {\n    const coreSubjects = ['Math', 'English', 'Social Studies', 'Science'];\n    const subjectIndex = coreSubjects.findIndex(s => s.toLowerCase() === subject.toLowerCase());\n    if (currentYear >= 2 && subjectIndex !== -1 && summerCourses[currentYear] === coreSubjects[subjectIndex]) {\n      return /*#__PURE__*/_jsxDEV(CourseDropdown, {\n        index: index,\n        subject: \"All Courses\",\n        courses: getAllCourses,\n        searchTerm: searchTerms[index],\n        onSearchChange: handleSearchChange,\n        onCourseSelect: handleCourseSelect,\n        selectedCourse: allSelectedCourses[currentYear][index],\n        isActive: activeDropdown === index,\n        onToggle: () => toggleDropdown(index)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(CourseDropdown, {\n      index: index,\n      subject: subject,\n      courses: filteredCourses(index, subject),\n      searchTerm: searchTerms[index],\n      onSearchChange: handleSearchChange,\n      onCourseSelect: handleCourseSelect,\n      selectedCourse: allSelectedCourses[currentYear][index],\n      isActive: activeDropdown === index,\n      onToggle: () => toggleDropdown(index)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this);\n  };\n  const handleReviewClick = () => {\n    const isValid = validateYear(currentYear);\n    if (!isValid) {\n      alert('Please fix the following errors before reviewing:\\n' + errors[currentYear].join('\\n'));\n      return;\n    }\n    setIsReviewing(true);\n  };\n  if (isReviewing) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center justify-center min-h-screen p-4 bg-neutral-900\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full max-w-4xl bg-neutral-800 rounded-lg shadow-xl p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"gradient-text font-bold text-5xl mb-8 text-center\",\n          children: \"Review Your Four Year Plan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-8\",\n          children: [1, 2, 3, 4].map(year => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-neutral-700 rounded-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"gradient-text font-bold text-3xl mb-4\",\n              children: [getYearName(year), \" Year\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this), summerCourses[year] && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-white mb-2\",\n              children: [\"Summer course taken: \", summerCourses[year]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc list-inside text-white space-y-2\",\n              children: allSelectedCourses[year].map((course, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"text-lg\",\n                children: course ? course.name : 'Not selected'\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this), errors[year].length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 text-red-500\",\n              children: errors[year].map((error, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n                children: error\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 19\n            }, this)]\n          }, year, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center justify-center min-h-screen p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-3xl mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"gradient-text font-bold text-5xl mb-6 text-center\",\n        children: \"Let's build.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-white text-lg mb-8 text-center\",\n        children: \"Select your classes for the next four years!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 flex justify-center items-center mb-12\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"gradient-text font-bold text-4xl\",\n          children: getYearName(currentYear)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), errors[currentYear].length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 p-4 bg-red-500 text-white rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-bold mb-2\",\n          children: \"Please fix the following errors:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-disc list-inside\",\n          children: errors[currentYear].map((error, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: error\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"gradient-text text-xl mb-4 text-center font-semibold\",\n        children: \"Core Classes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\",\n        children: ['Math', 'English', 'Social Studies', 'Science'].map((subject, index) => renderDropdown(index, subject))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"gradient-text text-xl mb-4 text-center font-semibold\",\n        children: \"Electives\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n        children: [4, 5, 6, 7].map(index => doubleBlockedCourses[currentYear] < 4 - index + 4 && renderDropdown(index, 'Elective'))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 flex justify-between items-center\",\n        children: [currentYear > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleYearChange('prev'),\n          className: \"text-white bg-orange-700 px-4 py-2 rounded-lg hover:bg-orange-600 transition-all duration-300\",\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this), currentYear < 4 ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleYearChange('next'),\n          className: \"text-white bg-orange-700 px-4 py-2 rounded-lg hover:bg-orange-600 transition-all duration-300\",\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleReviewClick,\n          className: \"text-white bg-orange-700 px-4 py-2 rounded-lg hover:bg-orange-600 transition-all duration-300\",\n          children: \"Review\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 244,\n    columnNumber: 5\n  }, this);\n}\n_s(Build, \"YZjItVL6Xa3DXmQKy2eNP23BkeY=\");\n_c = Build;\nvar _c;\n$RefreshReg$(_c, \"Build\");","map":{"version":3,"names":["React","useState","useCallback","useMemo","PropTypes","courseListData","CourseDropdown","jsxDEV","_jsxDEV","propTypes","index","number","isRequired","subject","string","courses","array","searchTerm","onSearchChange","func","onCourseSelect","selectedCourse","object","isActive","bool","onToggle","Build","initialCourses","_s","currentYear","setCurrentYear","setCourses","allSelectedCourses","setAllSelectedCourses","Array","fill","searchTerms","setSearchTerms","activeDropdown","setActiveDropdown","doubleBlockedCourses","setDoubleBlockedCourses","isReviewing","setIsReviewing","summerCourses","setSummerCourses","errors","setErrors","useEffect","validateCourseSequence","year","course","_course$name$match","_previousCourse$name$","previousYearCourses","previousCourse","find","c","courseLevel","parseInt","name","match","prevCourseLevel","validateYear","yearCourses","coreSubjects","newErrors","forEach","_summerCourses$year","includes","push","filledCourses","filter","length","prev","handleYearChange","direction","alert","join","tookSummer","window","confirm","getYearName","prompt","map","s","toLowerCase","handleSearchChange","value","newTerms","handleCourseSelect","newCourses","isDoubleBlocked","wasDoubleBlocked","setTimeout","getAllCourses","Object","values","flat","key","toString","filteredCourses","isValidForYear","toggleDropdown","renderDropdown","subjectIndex","findIndex","fileName","_jsxFileName","lineNumber","columnNumber","handleReviewClick","isValid","className","children","error","onClick","_c","$RefreshReg$"],"sources":["/Users/nischalkotamraju/Desktop/rrisd-course-advisor/src/components/Build.js"],"sourcesContent":["import React, { useState, useCallback, useMemo } from \"react\";\nimport PropTypes from 'prop-types';\nimport courseListData from \"../assets/data/course-list.json\";\nimport CourseDropdown from \"./CourseDropdown\";\n\nCourseDropdown.propTypes = {\n  index: PropTypes.number.isRequired,\n  subject: PropTypes.string.isRequired,\n  courses: PropTypes.array.isRequired,\n  searchTerm: PropTypes.string.isRequired,\n  onSearchChange: PropTypes.func.isRequired,\n  onCourseSelect: PropTypes.func.isRequired,\n  selectedCourse: PropTypes.object,\n  isActive: PropTypes.bool.isRequired,\n  onToggle: PropTypes.func.isRequired,\n};\n\nexport default function Build({ courses: initialCourses }) {\n  const [currentYear, setCurrentYear] = useState(1);\n  const [courses, setCourses] = useState(initialCourses);\n  const [allSelectedCourses, setAllSelectedCourses] = useState({ 1: Array(8).fill(null), 2: Array(8).fill(null), 3: Array(8).fill(null), 4: Array(8).fill(null) });\n  const [searchTerms, setSearchTerms] = useState(Array(8).fill(''));\n  const [activeDropdown, setActiveDropdown] = useState(null);\n  const [doubleBlockedCourses, setDoubleBlockedCourses] = useState({ 1: 0, 2: 0, 3: 0, 4: 0 });\n  const [isReviewing, setIsReviewing] = useState(false);\n  const [summerCourses, setSummerCourses] = useState({ 2: null, 3: null, 4: null });\n  const [errors, setErrors] = useState({ 1: [], 2: [], 3: [], 4: [] });\n\n  React.useEffect(() => {\n    setCourses(courseListData);\n  }, []);\n\n  const validateCourseSequence = (year, subject, course) => {\n    if (year === 1) return true;\n    \n    const previousYearCourses = allSelectedCourses[year - 1];\n    const previousCourse = previousYearCourses.find(c => c && c.subject === subject);\n    \n    if (!previousCourse) return false;\n    \n    const courseLevel = parseInt(course.name.match(/\\d+/)?.[0] || '0');\n    const prevCourseLevel = parseInt(previousCourse.name.match(/\\d+/)?.[0] || '0');\n    \n    return courseLevel > prevCourseLevel;\n  };\n\n  const validateYear = (year) => {\n    const yearCourses = allSelectedCourses[year];\n    const coreSubjects = ['Math', 'English', 'Social Studies', 'Science'];\n    const newErrors = [];\n\n    // Check if all core subjects are selected\n    coreSubjects.forEach((subject, index) => {\n      if (!yearCourses[index] && !summerCourses[year]?.includes(subject)) {\n        newErrors.push(`Missing ${subject} course`);\n      }\n    });\n\n    // Check if minimum number of courses is met\n    const filledCourses = yearCourses.filter(course => course !== null).length;\n    if (filledCourses < 6) {\n      newErrors.push('Minimum of 6 courses required');\n    }\n\n    // Check course sequence\n    yearCourses.forEach((course, index) => {\n      if (course && year > 1) {\n        if (!validateCourseSequence(year, course.subject, course)) {\n          newErrors.push(`Invalid sequence for ${course.name}`);\n        }\n      }\n    });\n\n    setErrors(prev => ({ ...prev, [year]: newErrors }));\n    return newErrors.length === 0;\n  };\n\n  const handleYearChange = (direction) => {\n    if (direction === 'next' && !validateYear(currentYear)) {\n      alert('Please fix the following errors before proceeding:\\n' + errors[currentYear].join('\\n'));\n      return;\n    }\n\n    if (direction === 'prev' && currentYear > 1) {\n      setCurrentYear(currentYear - 1);\n    } else if (direction === 'next' && currentYear < 4) {\n      if (currentYear + 1 >= 2 && !summerCourses[currentYear + 1]) {\n        const tookSummer = window.confirm(`Did you take any core classes over the summer before ${getYearName(currentYear + 1)} year?`);\n        if (tookSummer) {\n          const coreSubjects = ['Math', 'English', 'Social Studies', 'Science'];\n          const subject = window.prompt(`Which core subject did you take? (${coreSubjects.join(', ')})`);\n          if (subject && coreSubjects.map(s => s.toLowerCase()).includes(subject.toLowerCase())) {\n            setSummerCourses(prev => ({ ...prev, [currentYear + 1]: subject }));\n          }\n        }\n      }\n      setCurrentYear(currentYear + 1);\n    }\n    setSearchTerms(Array(8).fill(''));\n    setActiveDropdown(null);\n  };\n\n  const getYearName = (year) => [\"\", \"Freshman\", \"Sophomore\", \"Junior\", \"Senior\"][year];\n\n  const handleSearchChange = useCallback((index, value) => {\n    setSearchTerms(prev => { const newTerms = [...prev]; newTerms[index] = value; return newTerms; });\n  }, []);\n\n  const handleCourseSelect = (index, course) => {\n    if (course && currentYear > 1 && !validateCourseSequence(currentYear, course.subject, course)) {\n      alert('This course selection violates the course sequence requirements.');\n      return;\n    }\n\n    setAllSelectedCourses(prev => {\n      const newCourses = [...prev[currentYear]];\n      const previousCourse = newCourses[index];\n      newCourses[index] = course;\n\n      const isDoubleBlocked = course?.name.includes(\"DB\");\n      const wasDoubleBlocked = previousCourse?.name.includes(\"DB\");\n      \n      if (isDoubleBlocked && !wasDoubleBlocked) {\n        if (doubleBlockedCourses[currentYear] >= 2) {\n          alert('Maximum of 2 double-blocked courses allowed per year');\n          return prev;\n        }\n        setDoubleBlockedCourses(prev => ({...prev, [currentYear]: prev[currentYear] + 1}));\n      } else if (!isDoubleBlocked && wasDoubleBlocked) {\n        setDoubleBlockedCourses(prev => ({...prev, [currentYear]: prev[currentYear] - 1}));\n      }\n\n      return { ...prev, [currentYear]: newCourses };\n    });\n    setSearchTerms(prev => { const newTerms = [...prev]; newTerms[index] = ''; return newTerms; });\n    setActiveDropdown(null);\n    \n    // Validate after course selection\n    setTimeout(() => validateYear(currentYear), 0);\n  };\n\n  const getAllCourses = useMemo(() => {\n    if (!courses) return [];\n    return Object.values(courses).flat().filter(course => !course.key || course.key.includes(currentYear.toString()));\n  }, [courses, currentYear]);\n\n  const filteredCourses = useMemo(() => (index, subject) => {\n    if (!courses || !courses[subject.toLowerCase()]) return [];\n    return courses[subject.toLowerCase()].filter(course => {\n      const isValidForYear = !course.key || course.key.includes(currentYear.toString());\n      if (currentYear === 1) return isValidForYear;\n      \n      // For years 2-4, check prerequisites\n      return isValidForYear && validateCourseSequence(currentYear, subject, course);\n    });\n  }, [courses, currentYear, allSelectedCourses]);\n\n  const toggleDropdown = (index) => {\n    setActiveDropdown(activeDropdown === index ? null : index);\n    if (activeDropdown !== index) {\n      setSearchTerms(prev => { const newTerms = [...prev]; newTerms[index] = ''; return newTerms; });\n    }\n  };\n\n  const renderDropdown = (index, subject) => {\n    const coreSubjects = ['Math', 'English', 'Social Studies', 'Science'];\n    const subjectIndex = coreSubjects.findIndex(s => s.toLowerCase() === subject.toLowerCase());\n    \n    if (currentYear >= 2 && subjectIndex !== -1 && summerCourses[currentYear] === coreSubjects[subjectIndex]) {\n      return (\n        <CourseDropdown\n          key={index}\n          index={index}\n          subject=\"All Courses\"\n          courses={getAllCourses}\n          searchTerm={searchTerms[index]}\n          onSearchChange={handleSearchChange}\n          onCourseSelect={handleCourseSelect}\n          selectedCourse={allSelectedCourses[currentYear][index]}\n          isActive={activeDropdown === index}\n          onToggle={() => toggleDropdown(index)}\n        />\n      );\n    }\n\n    return (\n      <CourseDropdown\n        key={index}\n        index={index}\n        subject={subject}\n        courses={filteredCourses(index, subject)}\n        searchTerm={searchTerms[index]}\n        onSearchChange={handleSearchChange}\n        onCourseSelect={handleCourseSelect}\n        selectedCourse={allSelectedCourses[currentYear][index]}\n        isActive={activeDropdown === index}\n        onToggle={() => toggleDropdown(index)}\n      />\n    );\n  };\n\n  const handleReviewClick = () => {\n    const isValid = validateYear(currentYear);\n    if (!isValid) {\n      alert('Please fix the following errors before reviewing:\\n' + errors[currentYear].join('\\n'));\n      return;\n    }\n    setIsReviewing(true);\n  };\n\n  if (isReviewing) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-screen p-4 bg-neutral-900\">\n        <div className=\"w-full max-w-4xl bg-neutral-800 rounded-lg shadow-xl p-8\">\n          <h1 className=\"gradient-text font-bold text-5xl mb-8 text-center\">Review Your Four Year Plan</h1>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n            {[1, 2, 3, 4].map(year => (\n              <div key={year} className=\"bg-neutral-700 rounded-lg p-6\">\n                <h2 className=\"gradient-text font-bold text-3xl mb-4\">{getYearName(year)} Year</h2>\n                {summerCourses[year] && (\n                  <p className=\"text-white mb-2\">Summer course taken: {summerCourses[year]}</p>\n                )}\n                <ul className=\"list-disc list-inside text-white space-y-2\">\n                  {allSelectedCourses[year].map((course, index) => (\n                    <li key={index} className=\"text-lg\">{course ? course.name : 'Not selected'}</li>\n                  ))}\n                </ul>\n                {errors[year].length > 0 && (\n                  <div className=\"mt-4 text-red-500\">\n                    {errors[year].map((error, index) => (\n                      <p key={index}>{error}</p>\n                    ))}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col items-center justify-center min-h-screen p-4\">\n      <div className=\"w-full max-w-3xl mb-8\">\n        <h1 className=\"gradient-text font-bold text-5xl mb-6 text-center\">Let's build.</h1>\n        <p className=\"text-white text-lg mb-8 text-center\">Select your classes for the next four years!</p>\n        <div className=\"mt-8 flex justify-center items-center mb-12\">\n          <h2 className=\"gradient-text font-bold text-4xl\">{getYearName(currentYear)}</h2>\n        </div>\n        {errors[currentYear].length > 0 && (\n          <div className=\"mb-4 p-4 bg-red-500 text-white rounded-lg\">\n            <h4 className=\"font-bold mb-2\">Please fix the following errors:</h4>\n            <ul className=\"list-disc list-inside\">\n              {errors[currentYear].map((error, index) => (\n                <li key={index}>{error}</li>\n              ))}\n            </ul>\n          </div>\n        )}\n        <h3 className=\"gradient-text text-xl mb-4 text-center font-semibold\">Core Classes</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\n          {['Math', 'English', 'Social Studies', 'Science'].map((subject, index) => renderDropdown(index, subject))}\n        </div>\n        <h3 className=\"gradient-text text-xl mb-4 text-center font-semibold\">Electives</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {[4, 5, 6, 7].map(index => doubleBlockedCourses[currentYear] < 4 - index + 4 && renderDropdown(index, 'Elective'))}\n        </div>\n        <div className=\"mt-8 flex justify-between items-center\">\n          {currentYear > 1 && (\n            <button onClick={() => handleYearChange('prev')} className=\"text-white bg-orange-700 px-4 py-2 rounded-lg hover:bg-orange-600 transition-all duration-300\">\n              Back\n            </button>\n          )}\n          {currentYear < 4 ? (\n            <button onClick={() => handleYearChange('next')} className=\"text-white bg-orange-700 px-4 py-2 rounded-lg hover:bg-orange-600 transition-all duration-300\">\n              Next\n            </button>\n          ) : (\n            <button onClick={handleReviewClick} className=\"text-white bg-orange-700 px-4 py-2 rounded-lg hover:bg-orange-600 transition-all duration-300\">\n              Review\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}